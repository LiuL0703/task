<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>倒计时</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style>
	#outer{
		width: 230px;
		margin: 10px auto;
	}
	#time{
		margin:10px auto;
	}
	#time span{
		margin: 3px;
	}
	#button{
		margin: 10px auto;
		width: 100px;
		height:30px;
		font-size: 20px;
		border-radius: 4px;
	}
</style>
<script>
	window.onload = function(){
		var oTime = document.getElementById('time');
		
		var oBtn = document.getElementById('button');
		var timer = null;

		oBtn.onclick = function(){
			if(oBtn.innerHTML ==="开始"){
				timer = setInterval(updateTime,1000);
				oBtn.innerHTML = "取消"
			}
			else if(oBtn.innerHTML ==="取消"){
				oBtn.innerHTML = "开始"
				clearInterval(timer);
			}
			/*
			oBtn.innerHTML ==="开始"? (timer = setInterval(updateTime,1000),
				oBtn.innerHTML = "取消"):(oBtn.innerHTML = "开始",
				clearInterval(timer));
			*/
		}
		function format(a)
		{
			return a.toString().replace(/^(\d)$/,'0$1') //(\d)在正则表达式中是匹配个位数
		}
		function updateTime ()
		{
			var aSpan = oTime.getElementsByTagName('span');
			var oRemain = aSpan[0].innerHTML.replace(/^0/,'') * 60 + parseInt(aSpan[1].innerHTML.replace(/^0/,''));
			if(oRemain <= 0)
			{
				clearInterval(timer);
				return
			}
			oRemain--;
			aSpan[0].innerHTML = format(parseInt(oRemain / 60));
			oRemain %= 60;
			aSpan[1].innerHTML = format(parseInt(oRemain));
		}
}






/*		function updata(){
			var timer =setInterval(function(){
				if(num>0){
					if(num>60){
						aSpan[1].innerHTML = parseInt(aSpan[1].innerHTML) -1;

					}else if(num === 60){
					
						aSpan[0].innerHTML= '00';
						aSpan[1].innerHTML = 59;
					}
					else if(num < 60 && num >0){
						aSpan[1].innerHTML = parseInt(aSpan[1].innerHTML) -1;
					}
					
					num =num -1;
					if(aSpan[1].innerHTML<10&&aSpan[1].innerHTML>=0){
						aSpan[1].innerHTML ="0"+aSpan[1].innerHTML;
					}
				}
				}
			,1000);
		}
	}*/
</script>
</head>
<body>
    <div id="outer">
    	<div id="time"><span>01</span>分钟<span>11</span>秒</div>
    	<button id="button">开始</button>
    </div>
</body>
</html>
